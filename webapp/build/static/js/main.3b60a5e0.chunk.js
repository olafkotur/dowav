(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{17:function(e,t,a){e.exports=a(23)},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(11),m=a.n(r),c=a(4),o=(a(22),a(6)),s=a(7),l=a(12),h=a(8),v=n.a.createContext({currentOption:"Dashboard",setCurrentOption:function(e){throw new Error("setCurrentOption() not implemented.")}}),u=[{name:"Dashboard",indented:!1,icon:n.a.createElement(o.a,{size:20,color:"white"})},{name:"Temperature",indented:!0,icon:n.a.createElement(s.a,{size:20,color:"white"})},{name:"Moisture",indented:!0,icon:n.a.createElement(l.a,{size:20,color:"white"})},{name:"Light",indented:!0,icon:n.a.createElement(h.a,{size:20,color:"white"})},{name:"Movement",indented:!0,icon:n.a.createElement(h.b,{size:20,color:"white"})},{name:"Twitter",indented:!1,icon:n.a.createElement(s.b,{size:20,color:"white"})},{name:"Settings",indented:!1,icon:n.a.createElement(o.b,{size:20,color:"white"})}],g=function(){var e=Object(i.useContext)(v),t=e.currentOption,a=e.setCurrentOption;return n.a.createElement("div",{className:"menu"},u.map((function(e){return n.a.createElement("div",{key:e.name,className:"item  ".concat(e.name===t?"selected":""),onClick:function(){a(e.name)}},n.a.createElement("div",{className:"icon ".concat(e.indented?"indent":"")},e.icon),n.a.createElement("div",{className:"text"},e.name))})))},d=function(){return n.a.createElement("div",null,"I suggest to show here the status of IoT devices.",n.a.createElement("br",null),"Would be cool to have some kind of history as well.")},f=a(13),p=a(2),x=function(e){var t=e.live,a=e.setLive,i=e.shouldRenderLive;return n.a.createElement("div",{className:"control-pane"},i?n.a.createElement("button",{className:"".concat(t?"live":""),onClick:a},"Live"):null)},w=a(9),b=a(14),E=a(15),y=["#ffa500","#ff2929","#7a7aed"],O=function(){function e(t){Object(b.a)(this,e),this.svg=void 0,this.viewport=void 0,this.margin=void 0,this.data=void 0,this.xScale=void 0,this.yScale=void 0,this.svg=t.svg,this.viewport=t.viewport,this.margin={top:40,bottom:40,left:40,right:40},this.data=t.data,this.getXScale(this.data),this.getYScale(this.data)}return Object(E.a)(e,[{key:"setViewport",value:function(e){p.i(this.svg).attr("width",e.width).attr("height",e.height),this.viewport=e,this.resize()}},{key:"plot",value:function(e){var t=this;if(this.data instanceof Array){var a=p.i(this.svg),i=p.j().duration(500).ease(p.d),n=p.f().x((function(e){return t.xScale(new Date(e.time))})).y((function(e){return t.yScale(e.avg)})).curve(p.c);a.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(this.viewport.height-this.margin.bottom,")")).call(p.a(this.xScale)),a.append("g").attr("class","y-axis").attr("transform","translate(".concat(this.margin.left,", 0)")).call(p.b(this.yScale)),a.append("path").attr("class","line").attr("stroke",y[0]).datum(this.data).attr("d",n),"start"===e&&a.attr("opacity",0).transition(i).attr("opacity",1),a.selectAll(".dot")}else if("object"===typeof this.data){var r=p.i(this.svg),m=p.f().x((function(e){return t.xScale(new Date(e.time))})).y((function(e){return t.yScale(e.avg)})).curve(p.c),c=p.j().duration(500).ease(p.d);r.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(this.viewport.height-this.margin.bottom,")")).call(p.a(this.xScale)),r.append("g").attr("class","y-axis").attr("transform","translate(".concat(this.margin.left,", 0)")).call(p.b(this.yScale));var o=0;for(var s in this.data)r.append("path").attr("class","line").attr("stroke",y[o]).datum(this.data[s]).attr("d",m),"start"===e&&r.attr("opacity",0).transition(c).attr("opacity",1),r.selectAll(".dot"),o++}}},{key:"resize",value:function(){p.i(this.svg).html("");this.getXScale(this.data),this.getYScale(this.data),this.plot()}},{key:"getXScale",value:function(e){if(e instanceof Array)this.xScale=p.h().domain([new Date(e[0].time),new Date(e[e.length-1].time)]).range([this.margin.left,this.viewport.width-this.margin.right]);else if("object"===typeof e){var t=[];for(var a in e){var i;(i=t).push.apply(i,Object(w.a)(p.e(e[a],(function(e){return e.time}))))}t=p.e(t),this.xScale=p.h().domain([new Date(t[0]),new Date(t[1])]).range([this.margin.left,this.viewport.width-this.margin.right])}}},{key:"getYScale",value:function(e){if(e instanceof Array)this.yScale=p.g().domain(p.e(e,(function(e){return e.avg}))).range([this.viewport.height-this.margin.top,this.margin.bottom]);else if("object"===typeof e){var t=[];for(var a in e)t.push.apply(t,Object(w.a)(p.e(e[a],(function(e){return e.avg}))));this.yScale=p.g().domain(p.e(t)).range([this.viewport.height-this.margin.top,this.margin.bottom])}}}]),e}(),j=function(e){var t=e.viewport,a=e.name,r=e.data,m=e.control,o=void 0===m?{shouldRenderLive:!0}:m,s=Object(i.useRef)(null),l=Object(i.useState)(!1),h=Object(c.a)(l,2),v=h[0],u=h[1],g=Object(i.useState)(null),d=Object(c.a)(g,2),f=d[0],w=d[1];return Object(i.useEffect)((function(){f&&f.plot("start")}),[f]),Object(i.useEffect)((function(){return function(){var e=document.getElementById(a);e&&s.current&&s.current.removeChild(e)}}),[]),Object(i.useEffect)((function(){if(s.current){var e=s.current;if(1===e.childNodes.length){p.i(e).append("svg").attr("id",a).attr("width",t.width).attr("height",t.height);var i=document.getElementById(a);i&&w(new O({svg:i,viewport:t,data:r}))}}}),[s.current]),Object(i.useEffect)((function(){if(s.current){var e=document.getElementById(a);if(e){var i=e.getBoundingClientRect();i.height===t.height&&i.width===t.width||f&&f.setViewport(t)}}}),[t]),n.a.createElement("div",{ref:s,className:"graph ".concat(v?"live":"")},n.a.createElement(x,{shouldRenderLive:o.shouldRenderLive,live:v,setLive:function(){return u(!v)}}))},S=[{time:1571504077257,avg:17.810953475202226,min:15.810953475202226,max:19.810953475202226},{time:1571507677257,avg:18.243187283628842,min:16.243187283628842,max:20.243187283628842},{time:1571511277257,avg:18.86231093825219,min:16.86231093825219,max:20.86231093825219},{time:1571514877257,avg:20.962507644012447,min:18.962507644012447,max:22.962507644012447},{time:1571518477257,avg:17.839609353028276,min:15.839609353028276,max:19.839609353028276},{time:1571522077257,avg:17.832770342810452,min:15.832770342810452,max:19.832770342810452},{time:1571525677257,avg:21.242488055974984,min:19.242488055974984,max:23.242488055974984},{time:1571529277257,avg:18.16563426383551,min:16.16563426383551,max:20.16563426383551},{time:1571532877257,avg:21.683711559839363,min:19.683711559839363,max:23.683711559839363},{time:1571536477257,avg:17.792614214487433,min:15.792614214487433,max:19.792614214487433},{time:1571540077257,avg:21.284538095858057,min:19.284538095858057,max:23.284538095858057},{time:1571543677257,avg:19.217501705199364,min:17.217501705199364,max:21.217501705199364},{time:1571547277257,avg:19.609610071627134,min:17.609610071627134,max:21.609610071627134},{time:1571550877257,avg:17.484471872586905,min:15.484471872586905,max:19.484471872586905},{time:1571554477257,avg:18.394981057953636,min:16.394981057953636,max:20.394981057953636},{time:1571558077257,avg:19.75459934647529,min:17.75459934647529,max:21.75459934647529},{time:1571561677257,avg:18.346569989300125,min:16.346569989300125,max:20.346569989300125},{time:1571565277257,avg:19.406790076665473,min:17.406790076665473,max:21.406790076665473},{time:1571568877257,avg:19.090777952177135,min:17.090777952177135,max:21.090777952177135},{time:1571572477257,avg:20.42047378208593,min:18.42047378208593,max:22.42047378208593},{time:1571576077257,avg:19.697958079716912,min:17.697958079716912,max:21.697958079716912},{time:1571579677257,avg:20.900283805215437,min:18.900283805215437,max:22.900283805215437},{time:1571583277257,avg:18.578424045037504,min:16.578424045037504,max:20.578424045037504},{time:1571586877257,avg:19.371050673581667,min:17.371050673581667,max:21.371050673581667},{time:1571590477257,avg:18.945275837028067,min:16.945275837028067,max:20.945275837028067},{time:1571594077257,avg:20.25282200348416,min:18.25282200348416,max:22.25282200348416},{time:1571597677257,avg:20.277197710349267,min:18.277197710349267,max:22.277197710349267},{time:1571601277257,avg:18.669199662783626,min:16.669199662783626,max:20.669199662783626},{time:1571604877257,avg:17.953445291205973,min:15.953445291205973,max:19.953445291205973},{time:1571608477257,avg:19.796822736461525,min:17.796822736461525,max:21.796822736461525},{time:1571612077257,avg:18.97128108484187,min:16.97128108484187,max:20.97128108484187},{time:1571615677257,avg:17.057910031537396,min:15.057910031537396,max:19.057910031537396},{time:1571619277257,avg:18.347342810778656,min:16.347342810778656,max:20.347342810778656},{time:1571622877257,avg:21.65942004814898,min:19.65942004814898,max:23.65942004814898},{time:1571626477257,avg:18.324549861359465,min:16.324549861359465,max:20.324549861359465},{time:1571630077257,avg:18.133647317369334,min:16.133647317369334,max:20.133647317369334},{time:1571633677257,avg:21.29984131359615,min:19.29984131359615,max:23.29984131359615},{time:1571637277257,avg:21.978377280721894,min:19.978377280721894,max:23.978377280721894},{time:1571640877257,avg:21.37198876660552,min:19.37198876660552,max:23.37198876660552},{time:1571644477257,avg:21.69654966446444,min:19.69654966446444,max:23.69654966446444},{time:1571648077257,avg:21.14335726656426,min:19.14335726656426,max:23.14335726656426},{time:1571651677257,avg:21.85912016734993,min:19.85912016734993,max:23.85912016734993},{time:1571655277257,avg:17.135799744396945,min:15.135799744396945,max:19.135799744396945},{time:1571658877257,avg:17.849843522827857,min:15.849843522827857,max:19.849843522827857},{time:1571662477257,avg:20.43366295737064,min:18.43366295737064,max:22.43366295737064},{time:1571666077257,avg:18.825871973296355,min:16.825871973296355,max:20.825871973296355},{time:1571669677257,avg:20.363385420573664,min:18.363385420573664,max:22.363385420573664},{time:1571673277257,avg:17.388293794035526,min:15.388293794035526,max:19.388293794035526},{time:1571676877257,avg:20.26360231451924,min:18.26360231451924,max:22.26360231451924},{time:1571680477257,avg:17.899344447411487,min:15.899344447411487,max:19.899344447411487},{time:1571684077257,avg:20.406771513383966,min:18.406771513383966,max:22.406771513383966},{time:1571687677257,avg:17.677696249514813,min:15.677696249514813,max:19.677696249514813},{time:1571691277257,avg:19.392426707390687,min:17.392426707390687,max:21.392426707390687},{time:1571694877257,avg:18.774658565557942,min:16.774658565557942,max:20.774658565557942},{time:1571698477257,avg:21.575631494875914,min:19.575631494875914,max:23.575631494875914},{time:1571702077257,avg:20.446699978973978,min:18.446699978973978,max:22.446699978973978},{time:1571705677257,avg:18.66978183962011,min:16.66978183962011,max:20.66978183962011},{time:1571709277257,avg:19.51849913493708,min:17.51849913493708,max:21.51849913493708},{time:1571712877257,avg:18.64323181305076,min:16.64323181305076,max:20.64323181305076},{time:1571716477257,avg:20.50263262056208,min:18.50263262056208,max:22.50263262056208}];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e){e.currentOption;var t=Object(i.useState)(null),a=Object(c.a)(t,2),r=a[0],m=a[1],o=Object(i.useRef)(null),s=function(){if(o.current){var e=o.current.getBoundingClientRect();m({width:e.width,height:e.height})}};return Object(i.useLayoutEffect)((function(){return o.current&&s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[o.current]),n.a.createElement("div",{ref:o,className:"graph-view"},r?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"graph-view-row"},n.a.createElement(j,{data:S,viewport:{width:(r.width-50)/3,height:(r.height-100)/2},name:"first"}),n.a.createElement(j,{data:S.slice(30),viewport:{width:(r.width-50)/3,height:(r.height-100)/2},name:"second"}),n.a.createElement(j,{data:S.slice(20,40),viewport:{width:(r.width-50)/3,height:(r.height-100)/2},name:"third"})),n.a.createElement("div",{className:"graph-view-row"},n.a.createElement(j,{data:{zoneA:S,zoneB:S.slice(30).map((function(e){return N({},e,{avg:e.avg+5*Math.random()-3})})),zoneC:S.slice(20,40).map((function(e){return N({},e,{avg:e.avg+5*Math.random()-6})}))},control:{shouldRenderLive:!1},viewport:{width:r.width-10,height:(r.height-100)/2},name:"fourth"}))):null)},C=function(){var e=Object(i.useContext)(v).currentOption,t=null;switch(e){case"Dashboard":t=n.a.createElement(d,null);break;case"Temperature":case"Moisture":case"Light":t=n.a.createElement(z,{key:e,currentOption:e});break;default:t=n.a.createElement("div",{className:"not-implemented"},n.a.createElement("h1",null,"404"),n.a.createElement("p",null,"Not implemented yet. Come later ;) "))}return n.a.createElement("div",{className:"switch"},t)},D=function(){return n.a.createElement("div",{className:"dashboard"},n.a.createElement(g,null),n.a.createElement(C,null))},L=function(){var e=Object(i.useState)("Dashboard"),t=Object(c.a)(e,2),a=t[0],r=t[1];return n.a.createElement(v.Provider,{value:{currentOption:a,setCurrentOption:function(e){r(e)}}},n.a.createElement(D,null))};m.a.render(n.a.createElement(L,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.3b60a5e0.chunk.js.map